<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Layout</title>
    <link th:fragment="bootstrap"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
          crossorigin="anonymous">
</head>
<body>
<nav class="navbar navbar-light bg-dark mb-5" th:fragment="navbar">
    <div class="container d-flex justify-content-between align-items-center">
        <a class="navbar-brand" th:href="@{/}">
            <img src="/images/bipsync-logo.svg" width="130" alt="BipSync Logo"/>
            <span class="text-white fw-lighter fs-3 align-middle">onboarding portal</span>
        </a>

        <!-- Register employee button -->
        <form th:action="@{/register}" method="get">
            <input class="btn btn-outline-light" type="submit" value="Register"/>
            <input name="${_csrf.parameterName}"
                   type="hidden"
                   value="${_csrf.token}"/>
        </form>


        <!-- Conditional rendering of progress bar based on isOnboardingPage -->
        <div th:if="${isOnboardingPage}" class="me-3">
            <div class="progress" style="width: 200px; height: 20px;">
                <div class="progress-bar bg-success" role="progressbar"
                     th:style="'width:' + ${taskCompletionProgress} + '%'"
                     th:aria-valuenow="${taskCompletionProgress}"
                     aria-valuemin="0" aria-valuemax="100">
                    <span th:text="${taskCompletionProgress} + '%'"></span>
                </div>
            </div>
        </div>

        <!-- Logout button -->
        <form th:action="@{/logout}" method="post">
            <input class="btn btn-outline-light" type="submit" value="Logout"/>
            <input name="${_csrf.parameterName}"
                   type="hidden"
                   value="${_csrf.token}"/>
        </form>
    </div>
</nav>
</body>
</html>
